<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>365 Bolos</title>

<style>
body{
margin:0;
font-family:Arial, sans-serif;
background:linear-gradient(135deg,#ff9800,#ffb74d);
}

/* LOGIN */
#login{
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
height:100vh;
text-align:center;
color:white;
}

#login img{
width:220px;
margin-bottom:20px;
}

#login input{
padding:15px;
font-size:18px;
border:none;
border-radius:10px;
margin-top:15px;
}

#login button{
padding:15px 25px;
font-size:18px;
border:none;
border-radius:10px;
margin-top:15px;
background:white;
color:#ff9800;
cursor:pointer;
}

/* APP */
#app{
display:none;
padding:20px;
background:#fff3e0;
min-height:100vh;
}

header{
text-align:center;
margin-bottom:30px;
}

header h1{
margin:0;
color:#ff6f00;
}

.grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
gap:20px;
}

.card{
background:white;
border-radius:15px;
padding:10px;
text-align:center;
box-shadow:0 5px 15px rgba(0,0,0,0.15);
cursor:pointer;
}

.card img{
width:100%;
border-radius:10px;
height:120px;
object-fit:cover;
}

.card h3{
margin:10px 0 5px 0;
font-size:16px;
}

.modal{
display:none;
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.7);
overflow:auto;
}

.modal-content{
background:white;
margin:50px auto;
padding:20px;
border-radius:15px;
width:90%;
max-width:600px;
}

.close{
float:right;
font-size:22px;
cursor:pointer;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="login">
<img src="https://images.unsplash.com/photo-1606312619344-1a94c64b61c7?auto=format&fit=crop&w=600&q=60">
<h2>App-365 Bolos</h2>
<input type="password" id="senha" placeholder="Digite a senha">
<button onclick="entrar()">Entrar</button>
</div>

<!-- APP -->
<div id="app">
<header>
<h1>365 Bolos Sem Gl√∫ten, Sem A√ß√∫car e Sem Leite</h1>
<p>1 bolo por dia, o ano inteiro ‚Äî sem culpa</p>
</header>

<div class="grid" id="receitas"></div>
</div>

<!-- MODAL -->
<div class="modal" id="modal">
<div class="modal-content" id="modal-content">
<span class="close" onclick="fechar()">&times;</span>
<div id="conteudo-receita"></div>
</div>
</div>

<script>

const senhaCorreta = "1950*";
const sheetURL = "1mqbTFM8kinzGokkRbzjSiwaCPG4LWXEVxeoH-yiWYVY/";

function entrar(){
const senha = document.getElementById("senha").value;
if(senha === senhaCorreta){
document.getElementById("login").style.display="none";
document.getElementById("app").style.display="block";
} else{
alert("Senha incorreta");
}
}

function imagemPorSabor(nome){
nome = nome.toLowerCase();

if(nome.includes("chocolate"))
return "https://images.unsplash.com/photo-1578985545062-69928b1d9587?auto=format&fit=crop&w=600&q=60";

if(nome.includes("cenoura"))
return "https://images.unsplash.com/photo-1599785209707-28a2f7b3c1d4?auto=format&fit=crop&w=600&q=60";

if(nome.includes("laranja"))
return "https://images.unsplash.com/photo-1605478524137-4c9d4e6a5b7a?auto=format&fit=crop&w=600&q=60";

return "https://images.unsplash.com/photo-1606312619344-1a94c64b61c7?auto=format&fit=crop&w=600&q=60";
}

fetch(sheetURL)
.then(res=>res.text())
.then(data=>{
const linhas = data.split("\n").slice(1);

linhas.forEach(linha=>{
const col = linha.split(",");
if(col.length < 5) return;

const nome = col[0];
const ingredientes = col[14];
const preparo = col[15];

const card = document.createElement("div");
card.className="card";

card.innerHTML=`
<img src="${imagemPorSabor(nome)}">
<h3>${nome}</h3>
`;

card.onclick = function(){
abrir(nome, ingredientes, preparo);
};

document.getElementById("receitas").appendChild(card);

});
});

function abrir(nome, ingredientes, preparo){
document.getElementById("modal").style.display="block";
document.getElementById("conteudo-receita").innerHTML=`
<h2>${nome}</h2>
<h3>ü•£ Ingredientes</h3>
<p>${ingredientes}</p>
<h3>üë©‚Äçüç≥ Modo de Preparo</h3>
<p>${preparo}</p>
`;
}

function fechar(){
document.getElementById("modal").style.display="none";
}

</script>

</body>
</html>
