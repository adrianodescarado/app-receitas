<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>App de Receitas</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f2f2f2;
}

header {
  background: #ff6b00;
  color: #fff;
  padding: 15px;
  text-align: center;
  font-size: 20px;
}

/* LOGIN */
#login {
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}

.login-box {
  background: #fff;
  padding: 25px;
  border-radius: 10px;
  width: 90%;
  max-width: 320px;
  box-shadow: 0 4px 12px rgba(0,0,0,.15);
}

.login-box input, .login-box button {
  width: 100%;
  padding: 10px;
  margin-top: 10px;
  font-size: 16px;
}

/* GRID */
#app { display: none; }

.container {
  padding: 15px;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 15px;
}

.card {
  background: #fff;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 10px rgba(0,0,0,.1);
  cursor: pointer;
}

.card img {
  width: 100%;
  height: 130px;
  object-fit: cover;
}

.card h3 {
  padding: 10px;
  font-size: 14px;
  text-align: center;
}

/* MODAL */
.modal {
  position: fixed;
  top: 0; left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,.6);
  display: none;
  justify-content: center;
  align-items: center;
}

.modal-content {
  background: #fff;
  width: 90%;
  max-width: 500px;
  border-radius: 12px;
  padding: 15px;
  max-height: 90vh;
  overflow-y: auto;
}

.modal-content img {
  width: 100%;
  border-radius: 10px;
}

.close {
  text-align: right;
  font-size: 20px;
  cursor: pointer;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="login">
  <div class="login-box">
    <h2>üîí Acesso</h2>
    <input type="password" id="senha" placeholder="Senha">
    <button onclick="verificarSenha()">Entrar</button>
  </div>
</div>

<!-- APP -->
<div id="app">
  <header>üç∞ App de Receitas</header>
  <div class="container" id="receitas"></div>
</div>

<!-- MODAL -->
<div class="modal" id="modal">
  <div class="modal-content" id="modalContent"></div>
</div>

<script>
const SENHA_CORRETA = "1234";
const SHEET_ID = "1q-B4wKUJtpmjh3MoXae9xR0HVg9EYvsF2QD3guVm_Os";
const URL = `https://opensheet.elk.sh/${SHEET_ID}/Sheet1`;

function verificarSenha() {
  if (senha.value === SENHA_CORRETA) {
    login.style.display = "none";
    app.style.display = "block";
    carregar();
  } else {
    alert("Senha incorreta");
  }
}

function carregar() {
  fetch(URL)
    .then(r => r.json())
    .then(dados => {
      receitas.innerHTML = "";
      dados.forEach(r => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          <img src="${r.imagem}">
          <h3>${r.nome_receita}</h3>
        `;
        card.onclick = () => abrirModal(r);
        receitas.appendChild(card);
      });
    });
}

function abrirModal(r) {
  modalContent.innerHTML = `
    <div class="close" onclick="modal.style.display='none'">‚úñ</div>
    <h2>${r.nome_receita}</h2>
    <img src="${r.imagem}">
    <p><b>‚è± Tempo:</b> ${r.tempo}</p>
    <p><b>üî• Calorias:</b> ${r.calorias}</p>
    <p><b>üßæ Ingredientes:</b><br>${r.ingredientes}</p>
    <p><b>üë©‚Äçüç≥ Modo de preparo:</b><br>${r.modo_preparo}</p>
  `;
  modal.style.display = "flex";
}
</script>

</body>
</html>
